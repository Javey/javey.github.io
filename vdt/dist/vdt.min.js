!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Vdt=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,a){if(!t[o]){if(!e[o]){var u=typeof require=="function"&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var v=t[o]={exports:{}};e[o][0].call(v.exports,function(t){var n=e[o][1][t];return i(n?n:t)},v,v.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){var r=e("./vdom/create-element.js");t.exports=r},{"./vdom/create-element.js":14}],2:[function(e,t,n){var r=e("./vtree/diff.js");t.exports=r},{"./vtree/diff.js":34}],3:[function(e,t,n){var r=e("./virtual-hyperscript/index.js");t.exports=r},{"./virtual-hyperscript/index.js":21}],4:[function(e,t,n){var r=e("./diff.js");var i=e("./patch.js");var s=e("./h.js");var o=e("./create-element.js");var a=e("./vnode/vnode.js");var u=e("./vnode/vtext.js");t.exports={diff:r,patch:i,h:s,create:o,VNode:a,VText:u}},{"./create-element.js":1,"./diff.js":2,"./h.js":3,"./patch.js":12,"./vnode/vnode.js":30,"./vnode/vtext.js":32}],5:[function(e,t,n){t.exports=function r(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e,r;r=function(r,i,s){if(Object.prototype.toString.call(i)!=="[object RegExp]"){return t.call(r,i,s)}var o=[],a=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),u=0,i=new RegExp(i.source,a+"g"),f,v,h,c;r+="";if(!n){f=new RegExp("^"+i.source+"$(?!\\s)",a)}s=s===e?-1>>>0:s>>>0;while(v=i.exec(r)){h=v.index+v[0].length;if(h>u){o.push(r.slice(u,v.index));if(!n&&v.length>1){v[0].replace(f,function(){for(var t=1;t<arguments.length-2;t++){if(arguments[t]===e){v[t]=e}}})}if(v.length>1&&v.index<r.length){Array.prototype.push.apply(o,v.slice(1))}c=v[0].length;u=h;if(o.length>=s){break}}if(i.lastIndex===v.index){i.lastIndex++}}if(u===r.length){if(c||!i.test("")){o.push("")}}else{o.push(r.slice(u))}return o.length>s?o.slice(0,s):o};return r}()},{}],6:[function(e,t,n){"use strict";var r=e("individual/one-version");var i="7";r("ev-store",i);var s="__EV_STORE_KEY@"+i;t.exports=o;function o(e){var t=e[s];if(!t){t=e[s]={}}return t}},{"individual/one-version":8}],7:[function(e,t,n){(function(e){"use strict";var n=typeof window!=="undefined"?window:typeof e!=="undefined"?e:{};t.exports=r;function r(e,t){if(e in n){return n[e]}n[e]=t;return t}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],8:[function(e,t,n){"use strict";var r=e("./index.js");t.exports=i;function i(e,t,n){var i="__INDIVIDUAL_ONE_VERSION_"+e;var s=i+"_ENFORCE_SINGLETON";var o=r(s,t);if(o!==t){throw new Error("Can only have one copy of "+e+".\n"+"You already have version "+o+" installed.\n"+"This means you cannot install version "+t)}return r(i,n)}},{"./index.js":7}],9:[function(e,t,n){(function(n){var r=typeof n!=="undefined"?n:typeof window!=="undefined"?window:{};var i=e("min-document");if(typeof document!=="undefined"){t.exports=document}else{var s=r["__GLOBAL_DOCUMENT_CACHE@4"];if(!s){s=r["__GLOBAL_DOCUMENT_CACHE@4"]=i}t.exports=s}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":39}],10:[function(e,t,n){"use strict";t.exports=function r(e){return typeof e==="object"&&e!==null}},{}],11:[function(e,t,n){var r=Array.isArray;var i=Object.prototype.toString;t.exports=r||s;function s(e){return i.call(e)==="[object Array]"}},{}],12:[function(e,t,n){var r=e("./vdom/patch.js");t.exports=r},{"./vdom/patch.js":17}],13:[function(e,t,n){var r=e("is-object");var i=e("../vnode/is-vhook.js");t.exports=s;function s(e,t,n){for(var s in t){var u=t[s];if(u===undefined){o(e,s,u,n)}else if(i(u)){o(e,s,u,n);if(u.hook){u.hook(e,s,n?n[s]:undefined)}}else{if(r(u)){a(e,t,n,s,u)}else{e[s]=u}}}}function o(e,t,n,r){if(r){var s=r[t];if(!i(s)){if(t==="attributes"){for(var o in s){e.removeAttribute(o)}}else if(t==="style"){for(var a in s){e.style[a]=""}}else if(typeof s==="string"){e[t]=""}else{e[t]=null}}else if(s.unhook){s.unhook(e,t,n)}}}function a(e,t,n,i,s){var o=n?n[i]:undefined;if(i==="attributes"){for(var a in s){var f=s[a];if(f===undefined){e.removeAttribute(a)}else{e.setAttribute(a,f)}}return}if(o&&r(o)&&u(o)!==u(s)){e[i]=s;return}if(!r(e[i])){e[i]={}}var v=i==="style"?"":undefined;for(var h in s){var c=s[h];e[i][h]=c===undefined?v:c}}function u(e){if(Object.getPrototypeOf){return Object.getPrototypeOf(e)}else if(e.__proto__){return e.__proto__}else if(e.constructor){return e.constructor.prototype}}},{"../vnode/is-vhook.js":25,"is-object":10}],14:[function(e,t,n){var r=e("global/document");var i=e("./apply-properties");var s=e("../vnode/is-vnode.js");var o=e("../vnode/is-vtext.js");var a=e("../vnode/is-widget.js");var u=e("../vnode/handle-thunk.js");t.exports=f;function f(e,t){var n=t?t.document||r:r;var v=t?t.warn:null;e=u(e).a;if(a(e)){return e.init()}else if(o(e)){return n.createTextNode(e.text)}else if(!s(e)){if(v){v("Item is not a valid virtual dom node",e)}return null}var h=e.namespace===null?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName);var c=e.properties;i(h,c);var l=e.children;for(var p=0;p<l.length;p++){var d=f(l[p],t);if(d){h.appendChild(d)}}return h}},{"../vnode/handle-thunk.js":23,"../vnode/is-vnode.js":26,"../vnode/is-vtext.js":27,"../vnode/is-widget.js":28,"./apply-properties":13,"global/document":9}],15:[function(e,t,n){var r={};t.exports=i;function i(e,t,n,r){if(!n||n.length===0){return{}}else{n.sort(a);return s(e,t,n,r,0)}}function s(e,t,n,i,a){i=i||{};if(e){if(o(n,a,a)){i[a]=e}var u=t.children;if(u){var f=e.childNodes;for(var v=0;v<t.children.length;v++){a+=1;var h=u[v]||r;var c=a+(h.count||0);if(o(n,a,c)){s(f[v],h,n,i,a)}a=c}}}return i}function o(e,t,n){if(e.length===0){return false}var r=0;var i=e.length-1;var s;var o;while(r<=i){s=(i+r)/2>>0;o=e[s];if(r===i){return o>=t&&o<=n}else if(o<t){r=s+1}else if(o>n){i=s-1}else{return true}}return false}function a(e,t){return e>t?1:-1}},{}],16:[function(e,t,n){var r=e("./apply-properties");var i=e("../vnode/is-widget.js");var s=e("../vnode/vpatch.js");var o=e("./create-element");var a=e("./update-widget");t.exports=u;function u(e,t,n){var i=e.type;var o=e.vNode;var a=e.patch;switch(i){case s.REMOVE:return f(t,o);case s.INSERT:return v(t,a,n);case s.VTEXT:return h(t,o,a,n);case s.WIDGET:return c(t,o,a,n);case s.VNODE:return l(t,o,a,n);case s.ORDER:d(t,a);return t;case s.PROPS:r(t,a,o.properties);return t;case s.THUNK:return x(t,n.patch(t,a,n));default:return t}}function f(e,t){var n=e.parentNode;if(n){n.removeChild(e)}p(e,t);return null}function v(e,t,n){var r=o(t,n);if(e){e.appendChild(r)}return e}function h(e,t,n,r){var i;if(e.nodeType===3){e.replaceData(0,e.length,n.text);i=e}else{var s=e.parentNode;i=o(n,r);if(s&&i!==e){s.replaceChild(i,e)}}return i}function c(e,t,n,r){var i=a(t,n);var s;if(i){s=n.update(t,e)||e}else{s=o(n,r)}var u=e.parentNode;if(u&&s!==e){u.replaceChild(s,e)}if(!i){p(e,t)}return s}function l(e,t,n,r){var i=e.parentNode;var s=o(n,r);if(i&&s!==e){i.replaceChild(s,e)}return s}function p(e,t){if(typeof t.destroy==="function"&&i(t)){t.destroy(e)}}function d(e,t){var n=e.childNodes;var r={};var i;var s;var o;for(var a=0;a<t.removes.length;a++){s=t.removes[a];i=n[s.from];if(s.key){r[s.key]=i}e.removeChild(i)}var u=n.length;for(var f=0;f<t.inserts.length;f++){o=t.inserts[f];i=r[o.key];e.insertBefore(i,o.to>=u++?null:n[o.to])}}function x(e,t){if(e&&t&&e!==t&&e.parentNode){e.parentNode.replaceChild(t,e)}return t}},{"../vnode/is-widget.js":28,"../vnode/vpatch.js":31,"./apply-properties":13,"./create-element":14,"./update-widget":18}],17:[function(e,t,n){var r=e("global/document");var i=e("x-is-array");var s=e("./dom-index");var o=e("./patch-op");t.exports=a;function a(e,t){return u(e,t)}function u(e,t,n){var i=v(t);if(i.length===0){return e}var o=s(e,t.a,i);var a=e.ownerDocument;if(!n){n={patch:u};if(a!==r){n.document=a}}for(var h=0;h<i.length;h++){var c=i[h];e=f(e,o[c],t[c],n)}return e}function f(e,t,n,r){if(!t){return e}var s;if(i(n)){for(var a=0;a<n.length;a++){s=o(n[a],t,r);if(t===e){e=s}}}else{s=o(n,t,r);if(t===e){e=s}}return e}function v(e){var t=[];for(var n in e){if(n!=="a"){t.push(Number(n))}}return t}},{"./dom-index":15,"./patch-op":16,"global/document":9,"x-is-array":11}],18:[function(e,t,n){var r=e("../vnode/is-widget.js");t.exports=i;function i(e,t){if(r(e)&&r(t)){if("name"in e&&"name"in t){return e.id===t.id}else{return e.init===t.init}}return false}},{"../vnode/is-widget.js":28}],19:[function(e,t,n){"use strict";var r=e("ev-store");t.exports=i;function i(e){if(!(this instanceof i)){return new i(e)}this.value=e}i.prototype.hook=function(e,t){var n=r(e);var i=t.substr(3);n[i]=this.value};i.prototype.unhook=function(e,t){var n=r(e);var i=t.substr(3);n[i]=undefined}},{"ev-store":6}],20:[function(e,t,n){"use strict";t.exports=r;function r(e){if(!(this instanceof r)){return new r(e)}this.value=e}r.prototype.hook=function(e,t){if(e[t]!==this.value){e[t]=this.value}}},{}],21:[function(e,t,n){"use strict";var r=e("x-is-array");var i=e("../vnode/vnode.js");var s=e("../vnode/vtext.js");var o=e("../vnode/is-vnode");var a=e("../vnode/is-vtext");var u=e("../vnode/is-widget");var f=e("../vnode/is-vhook");var v=e("../vnode/is-thunk");var h=e("./parse-tag.js");var c=e("./hooks/soft-set-hook.js");var l=e("./hooks/ev-hook.js");t.exports=p;function p(e,t,n){var r=[];var s,o,a,u;if(!n&&g(t)){n=t;o={}}o=o||t||{};s=h(e,o);if(o.hasOwnProperty("key")){a=o.key;o.key=undefined}if(o.hasOwnProperty("namespace")){u=o.namespace;o.namespace=undefined}if(s==="INPUT"&&!u&&o.hasOwnProperty("value")&&o.value!==undefined&&!f(o.value)){o.value=c(o.value)}x(o);if(n!==undefined&&n!==null){d(n,r,s,o)}return new i(s,o,r,a,u)}function d(e,t,n,i){if(typeof e==="string"||typeof e==="number"){t.push(new s(e))}else if(y(e)){t.push(e)}else if(r(e)){for(var o=0;o<e.length;o++){d(e[o],t,n,i)}}else if(e===null||e===undefined){return}else{throw _({foreignObject:e,parentVnode:{tagName:n,properties:i}})}}function x(e){for(var t in e){if(e.hasOwnProperty(t)){var n=e[t];if(f(n)){continue}if(t.substr(0,3)==="ev-"){e[t]=l(n)}}}}function y(e){return o(e)||a(e)||u(e)||v(e)}function g(e){return typeof e==="string"||r(e)||y(e)}function _(e){var t=new Error;t.type="virtual-hyperscript.unexpected.virtual-element";t.message="Unexpected virtual child passed to h().\n"+"Expected a VNode / Vthunk / VWidget / string but:\n"+"got:\n"+m(e.foreignObject)+".\n"+"The parent vnode is:\n"+m(e.parentVnode);"\n"+"Suggested fix: change your `h(..., [ ... ])` callsite.";t.foreignObject=e.foreignObject;t.parentVnode=e.parentVnode;return t}function m(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}},{"../vnode/is-thunk":24,"../vnode/is-vhook":25,"../vnode/is-vnode":26,"../vnode/is-vtext":27,"../vnode/is-widget":28,"../vnode/vnode.js":30,"../vnode/vtext.js":32,"./hooks/ev-hook.js":19,"./hooks/soft-set-hook.js":20,"./parse-tag.js":22,"x-is-array":11}],22:[function(e,t,n){"use strict";var r=e("browser-split");var i=/([\.#]?[a-zA-Z0-9_:-]+)/;var s=/^\.|#/;t.exports=o;function o(e,t){if(!e){return"DIV"}var n=!t.hasOwnProperty("id");var o=r(e,i);var a=null;if(s.test(o[1])){a="DIV"}var u,f,v,h;for(h=0;h<o.length;h++){f=o[h];if(!f){continue}v=f.charAt(0);if(!a){a=f}else if(v==="."){u=u||[];u.push(f.substring(1,f.length))}else if(v==="#"&&n){t.id=f.substring(1,f.length)}}if(u){if(t.className){u.push(t.className)}t.className=u.join(" ")}return t.namespace?a:a.toUpperCase()}},{"browser-split":5}],23:[function(e,t,n){var r=e("./is-vnode");var i=e("./is-vtext");var s=e("./is-widget");var o=e("./is-thunk");t.exports=a;function a(e,t){var n=e;var r=t;if(o(t)){r=u(t,e)}if(o(e)){n=u(e,null)}return{a:n,b:r}}function u(e,t){var n=e.vnode;if(!n){n=e.vnode=e.render(t)}if(!(r(n)||i(n)||s(n))){throw new Error("thunk did not return a valid node")}return n}},{"./is-thunk":24,"./is-vnode":26,"./is-vtext":27,"./is-widget":28}],24:[function(e,t,n){t.exports=r;function r(e){return e&&e.type==="Thunk"}},{}],25:[function(e,t,n){t.exports=r;function r(e){return e&&(typeof e.hook==="function"&&!e.hasOwnProperty("hook")||typeof e.unhook==="function"&&!e.hasOwnProperty("unhook"))}},{}],26:[function(e,t,n){var r=e("./version");t.exports=i;function i(e){return e&&e.type==="VirtualNode"&&e.version===r}},{"./version":29}],27:[function(e,t,n){var r=e("./version");t.exports=i;function i(e){return e&&e.type==="VirtualText"&&e.version===r}},{"./version":29}],28:[function(e,t,n){t.exports=r;function r(e){return e&&e.type==="Widget"}},{}],29:[function(e,t,n){t.exports="2"},{}],30:[function(e,t,n){var r=e("./version");var i=e("./is-vnode");var s=e("./is-widget");var o=e("./is-thunk");var a=e("./is-vhook");t.exports=v;var u={};var f=[];function v(e,t,n,r,v){this.tagName=e;this.properties=t||u;this.children=n||f;this.key=r!=null?String(r):undefined;this.namespace=typeof v==="string"?v:null;var h=n&&n.length||0;var c=0;var l=false;var p=false;var d=false;var x;for(var y in t){if(t.hasOwnProperty(y)){var g=t[y];if(a(g)&&g.unhook){if(!x){x={}}x[y]=g}}}for(var _=0;_<h;_++){var m=n[_];if(i(m)){c+=m.count||0;if(!l&&m.hasWidgets){l=true}if(!p&&m.hasThunks){p=true}if(!d&&(m.hooks||m.descendantHooks)){d=true}}else if(!l&&s(m)){if(typeof m.destroy==="function"){l=true}}else if(!p&&o(m)){p=true}}this.count=h+c;this.hasWidgets=l;this.hasThunks=p;this.hooks=x;this.descendantHooks=d}v.prototype.version=r;v.prototype.type="VirtualNode"},{"./is-thunk":24,"./is-vhook":25,"./is-vnode":26,"./is-widget":28,"./version":29}],31:[function(e,t,n){var r=e("./version");i.NONE=0;i.VTEXT=1;i.VNODE=2;i.WIDGET=3;i.PROPS=4;i.ORDER=5;i.INSERT=6;i.REMOVE=7;i.THUNK=8;t.exports=i;function i(e,t,n){this.type=Number(e);this.vNode=t;this.patch=n}i.prototype.version=r;i.prototype.type="VirtualPatch"},{"./version":29}],32:[function(e,t,n){var r=e("./version");t.exports=i;function i(e){this.text=String(e)}i.prototype.version=r;i.prototype.type="VirtualText"},{"./version":29}],33:[function(e,t,n){var r=e("is-object");var i=e("../vnode/is-vhook");t.exports=s;function s(e,t){var n;for(var a in e){if(!(a in t)){n=n||{};n[a]=undefined}var u=e[a];var f=t[a];if(u===f){continue}else if(r(u)&&r(f)){if(o(f)!==o(u)){n=n||{};n[a]=f}else if(i(f)){n=n||{};n[a]=f}else{var v=s(u,f);if(v){n=n||{};n[a]=v}}}else{n=n||{};n[a]=f}}for(var h in t){if(!(h in e)){n=n||{};n[h]=t[h]}}return n}function o(e){if(Object.getPrototypeOf){return Object.getPrototypeOf(e)}else if(e.__proto__){return e.__proto__}else if(e.constructor){return e.constructor.prototype}}},{"../vnode/is-vhook":25,"is-object":10}],34:[function(e,t,n){var r=e("x-is-array");var i=e("../vnode/vpatch");var s=e("../vnode/is-vnode");var o=e("../vnode/is-vtext");var a=e("../vnode/is-widget");var u=e("../vnode/is-thunk");var f=e("../vnode/handle-thunk");var v=e("./diff-props");t.exports=h;function h(e,t){var n={a:e};c(e,t,n,0);return n}function c(e,t,n,r){if(e===t){return}var f=n[r];var h=false;if(u(e)||u(t)){x(e,t,n,r)}else if(t==null){if(!a(e)){p(e,n,r);f=n[r]}f=S(f,new i(i.REMOVE,e,t))}else if(s(t)){if(s(e)){if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var c=v(e.properties,t.properties);if(c){f=S(f,new i(i.PROPS,e,c))}f=l(e,t,n,f,r)}else{f=S(f,new i(i.VNODE,e,t));h=true}}else{f=S(f,new i(i.VNODE,e,t));h=true}}else if(o(t)){if(!o(e)){f=S(f,new i(i.VTEXT,e,t));h=true}else if(e.text!==t.text){f=S(f,new i(i.VTEXT,e,t))}}else if(a(t)){if(!a(e)){h=true}f=S(f,new i(i.WIDGET,e,t))}if(f){n[r]=f}if(h){p(e,n,r)}}function l(e,t,n,r,o){var a=e.children;var u=m(a,t.children);var f=u.children;var v=a.length;var h=f.length;var l=v>h?v:h;for(var p=0;p<l;p++){var d=a[p];var x=f[p];o+=1;if(!d){if(x){r=S(r,new i(i.INSERT,null,x))}}else{c(d,x,n,o)}if(s(d)&&d.count){o+=d.count}}if(u.moves){r=S(r,new i(i.ORDER,e,u.moves))}return r}function p(e,t,n){g(e,t,n);d(e,t,n)}function d(e,t,n){if(a(e)){if(typeof e.destroy==="function"){t[n]=S(t[n],new i(i.REMOVE,e,null))}}else if(s(e)&&(e.hasWidgets||e.hasThunks)){var r=e.children;var o=r.length;for(var f=0;f<o;f++){var v=r[f];n+=1;d(v,t,n);if(s(v)&&v.count){n+=v.count}}}else if(u(e)){x(e,null,t,n)}}function x(e,t,n,r){var s=f(e,t);var o=h(s.a,s.b);if(y(o)){n[r]=new i(i.THUNK,null,o)}}function y(e){for(var t in e){if(t!=="a"){return true}}return false}function g(e,t,n){if(s(e)){if(e.hooks){t[n]=S(t[n],new i(i.PROPS,e,_(e.hooks)))}if(e.descendantHooks||e.hasThunks){var r=e.children;var o=r.length;for(var a=0;a<o;a++){var f=r[a];n+=1;g(f,t,n);if(s(f)&&f.count){n+=f.count}}}}else if(u(e)){x(e,null,t,n)}}function _(e){var t={};for(var n in e){t[n]=undefined}return t}function m(e,t){var n=k(t);var r=n.keys;var i=n.free;if(i.length===t.length){return{children:t,moves:null}}var s=k(e);var o=s.keys;var a=s.free;if(a.length===e.length){return{children:t,moves:null}}var u=[];var f=0;var v=i.length;var h=0;for(var c=0;c<e.length;c++){var l=e[c];var p;if(l.key){if(r.hasOwnProperty(l.key)){p=r[l.key];u.push(t[p])}else{p=c-h++;u.push(null)}}else{if(f<v){p=i[f++];u.push(t[p])}else{p=c-h++;u.push(null)}}}var d=f>=i.length?t.length:i[f];for(var x=0;x<t.length;x++){var y=t[x];if(y.key){if(!o.hasOwnProperty(y.key)){u.push(y)}}else if(x>=d){u.push(y)}}var g=u.slice();var _=0;var m=[];var S=[];var E;for(var b=0;b<t.length;){var j=t[b];E=g[_];while(E===null&&g.length){m.push(w(g,_,null));E=g[_]}if(!E||E.key!==j.key){if(j.key){if(E&&E.key){if(r[E.key]!==b+1){m.push(w(g,_,E.key));E=g[_];if(!E||E.key!==j.key){S.push({key:j.key,to:b})}else{_++}}else{S.push({key:j.key,to:b})}}else{S.push({key:j.key,to:b})}b++}else if(E&&E.key){m.push(w(g,_,E.key))}}else{_++;b++}}while(_<g.length){E=g[_];m.push(w(g,_,E&&E.key))}if(m.length===h&&!S.length){return{children:u,moves:null}}return{children:u,moves:{removes:m,inserts:S}}}function w(e,t,n){e.splice(t,1);return{from:t,key:n}}function k(e){var t={};var n=[];var r=e.length;for(var i=0;i<r;i++){var s=e[i];if(s.key){t[s.key]=i}else{n.push(i)}}return{keys:t,free:n}}function S(e,t){if(e){if(r(e)){e.push(t)}else{e=[e,t]}return e}else{return t}}},{"../vnode/handle-thunk":23,"../vnode/is-thunk":24,"../vnode/is-vnode":26,"../vnode/is-vtext":27,"../vnode/is-widget":28,"../vnode/vpatch":31,"./diff-props":33,"x-is-array":11}],35:[function(e,t,n){var r=e("./utils"),i=r.Type,s=r.TypeName;function o(e){return e===36||e===95||e===45||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57}var a=function(){this.source="";this.index=0;this.length=0};a.prototype={constructor:a,parse:function(e){this.source=r.trimRight(e);this.index=0;this.length=this.source.length;return this._parseTemplate()},_parseTemplate:function(){var e=[],t={count:0};while(this.index<this.length&&t.count>=0){e.push(this._advance(t))}return e},_advance:function(e){var t=this._char();if(t!=="<"){return this._scanJS(e)}else{return this._scanJSX()}},_scanJS:function(e){var t=this.index;while(this.index<this.length){var n=this._char();if(n==="'"||n==='"'){this._scanStringLiteral()}else if(this._char()==="<"&&/^<\w+\s*[\w>]/.test(this.source.slice(this.index))){break}else{if(n==="{"){e.count++}else if(n==="}"){e.count--;if(e.count<0){this.index++;break}}this.index++}}return{type:i.JS,typeName:s[i.JS],value:this.source.slice(t,e.count<0?this.index-1:this.index)}},_scanStringLiteral:function(){var e=this._char(),t=this.index,n="";this.index++;while(this.index<this.length){var r=this._char();this.index++;if(r===e){e="";break}else if(r==="\\"){n+=this._char(this.index++)}else{n+=r}}if(e!==""){throw new Error("Unclosed quote")}return{type:i.StringLiteral,typeName:s[i.StringLiteral],value:this.source.slice(t,this.index)}},_scanJSX:function(){return this._parseJSXElement()},_scanJSXText:function(e){var t=this.index;while(this.index<this.length){var n=this._char();if(~e.indexOf(n)){break}this.index++}return{type:i.JSXText,typeName:s[i.JSXText],value:this.source.slice(t,this.index)}},_scanJSXStringLiteral:function(){var e=this._char();if(e!=="'"&&e!=='"'){throw new Error("String literal must starts with a qoute")}this.index++;var t=this._scanJSXText([e]);this.index++;return t},_parseJSXElement:function(){this._expect("<");var e=this.index;while(this.index<this.length){if(!o(this._charCode())){break}this.index++}var t={type:i.JSXElement,typeName:s[i.JSXElement],value:this.source.slice(e,this.index),attributes:this._parseJSXAttribute(),children:[]};if(this._char()==="/"){this.index++;this._expect(">")}else{this._expect(">");t.children=this._parseJSXChildren()}return t},_parseJSXAttribute:function(){var e=[];while(this.index<this.length){this._skipWhitespace();if(this._char()==="/"||this._char()===">"){break}else{var t=this._parseJSXAttributeName();if(this._char()==="="){this.index++;t.value=this._parseJSXAttributeValue()}e.push(t)}}return e},_parseJSXAttributeName:function(){var e=this.index;if(!o(this._charCode())){throw new Error("Unexpected identifier "+this._char())}while(this.index<this.length){var t=this._charCode();if(!o(t)){break}this.index++}return{type:i.JSXAttribute,typeName:s[i.JSXAttribute],name:this.source.slice(e,this.index)}},_parseJSXAttributeValue:function(){var e;if(this._char()==="{"){e=this._parseJSXExpressionContainer()}else{e=this._scanJSXStringLiteral()}return e},_parseJSXExpressionContainer:function(){var e;this._expect("{");if(this._char()==="}"){e=this._parseJSXEmptyExpression()}else{e=this._parseExpression()}this._expect("}");return{type:i.JSXExpressionContainer,typeName:s[i.JSXExpressionContainer],value:e}},_parseJSXEmptyExpression:function(){return{type:i.JSXEmptyExpression,typeName:s[i.JSXEmptyExpression],value:null}},_parseExpression:function(){var e=this._parseTemplate();this.index--;return e},_parseJSXChildren:function(){var e=[];while(this.index<this.length){if(this._char(this.index)==="<"&&this._char(this.index+1)==="/"){break}e.push(this._parseJSXChild())}this._parseJSXClosingElement();return e},_parseJSXChild:function(){var e,t=this._char();if(t==="{"){e=this._parseJSXExpressionContainer()}else if(t==="<"){e=this._parseJSXElement()}else{e=this._scanJSXText(["<","{"])}return e},_parseJSXClosingElement:function(){this._expect("</");while(this.index<this.length){if(!o(this._charCode())){break}this.index++}this._skipWhitespace();this._expect(">")},_char:function(e){e=e||this.index;return this.source.charAt(e)},_charCode:function(e){e=e||this.index;return this.source.charCodeAt(e)},_skipWhitespace:function(){while(this.index<this.length){if(r.isWhiteSpace(this._charCode())){this.index++}else{break}}},_expect:function(e){if(this.source.slice(this.index,this.index+e.length)!==e){throw new Error("expect string "+e)}this.index+=e.length}};t.exports=a},{"./utils":37}],36:[function(e,t,n){var r=e("./utils"),i=r.Type;var s=function(){};s.prototype={constructor:s,stringify:function(e){return this._visitJSXExpressionContainer(e,true)},_visitJSXExpressionContainer:function(e,t){var n="",i=e.length;r.each(e,function(e,r){if(t&&r===i-1){n+="return "+this._visit(e)}else{n+=this._visit(e)}},this);return n},_visit:function(e){e=e||{};switch(e.type){case i.JS:return this._visitJS(e);case i.JSXElement:return this._visitJSX(e);case i.JSXText:return this._visitJSXText(e);case i.JSXExpressionContainer:return this._visitJSXExpressionContainer(e.value);default:return"null"}},_visitJS:function(e){return e.value},_visitJSX:function(e){var t="h('"+e.value+"',"+this._visitJSXAttribute(e.attributes)+", ",n=[];r.each(e.children,function(e){n.push(this._visit(e))},this);return t+"["+n.join(", ")+"])"},_visitJSXAttribute:function(e){var t=[];r.each(e,function(e){t.push("'"+e.name+"': "+this._visit(e.value))},this);return t.length?"{"+t.join(", ")+"}":"null"},_visitJSXText:function(e){return"'"+e.value.replace(/[\r\n]/g," ")+"'"}};t.exports=s},{"./utils":37}],37:[function(e,t,n){var r=0,i={JS:r++,JSXText:r++,JSXElement:r++,JSXExpressionContainer:r++,JSXAttribute:r++,JSXEmptyExpression:r++},s=[];var o=Object.prototype.hasOwnProperty;(function(){for(var e in i){if(o.call(i,e)){s[i[e]]=e}}})();var a={each:function(e,t,n){for(var r=0,i=e.length;r<i;r++){var s=e[r];t.call(n,s,r)}},isWhiteSpace:function(e){return e<=160&&(e>=9&&e<=13)||e==32||e==160||e==5760||e==6158||e>=8192&&(e<=8202||e==8232||e==8233||e==8239||e==8287||e==12288||e==65279)},trimRight:function(e){var t=e.length;while(t--&&a.isWhiteSpace(e.charCodeAt(t))){}return e.slice(0,t+1)},Type:i,TypeName:s};t.exports=a},{}],38:[function(e,t,n){var r=new(e("./lib/parser")),i=new(e("./lib/stringifier")),s=e("virtual-dom");var o=function(e){var t,n,r,i;t=a(e);return{render:function(e,a){i=a;n=t.call(i,e,o);r=s.create(n);return r},update:function(e){var a=t.call(i,e,o),u=s.diff(n,a);r=s.patch(r,u);n=a;return r}}};function a(e){var t;switch(typeof e){case"string":var n=r.parse(e),s=i.stringify(n);s="var h = Vdt.virtualDom.h;\nwith(obj) {"+s+"};";t=new Function("obj","Vdt",s);t.source="function(obj, Vdt) {\n"+s+"\n}";break;case"function":t=e;break;default:throw new Error("Expect a string or function")}return t}o.parser=r;o.stringifier=i;o.virtualDom=s;o.compile=a;t.exports=o},{"./lib/parser":35,"./lib/stringifier":36,"virtual-dom":4}],39:[function(e,t,n){},{}]},{},[38])(38)});